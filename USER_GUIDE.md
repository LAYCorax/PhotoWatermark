# PhotoWatermark 用户指南

## 快速开始

### 运行程序

**方式1：可执行文件**
```
双击 PhotoWatermark.exe
```

**方式2：Python环境**
```bash
python launcher.py
# 或
python main.py
```

## 基本使用流程

### 1. 导入图片

**方法一：拖拽导入**
- 直接将图片文件拖入窗口左侧区域

**方法二：菜单导入**
- `文件 → 导入图片` - 选择单张或多张图片
- `文件 → 导入文件夹` - 导入整个文件夹

### 2. 配置水印

#### 文本水印
1. 选择"文本水印"标签
2. 输入水印文字
3. 设置字体、大小、颜色
4. 调整透明度
5. 可选：启用描边或阴影效果

#### 图片水印
1. 选择"图片水印"标签
2. 点击"浏览"选择水印图片
3. 调整缩放比例
4. 设置透明度

#### 位置设置
1. 选择"位置设置"标签
2. 点击九宫格选择位置
3. 或选择"自定义坐标"精确定位
4. 设置边距和旋转角度

### 3. 预览效果

- 在左侧列表选择图片
- 中央区域实时显示水印效果
- 可使用鼠标滚轮缩放预览

### 4. 导出图片

1. `文件 → 导出设置`
2. 选择输出路径
3. 设置输出格式（JPEG/PNG）
4. 可选：设置图片缩放
5. 点击"开始导出"

## 高级功能

### 模板系统

#### 保存模板
1. 配置好水印设置
2. `工具 → 模板管理`
3. 点击"保存当前配置为模板"
4. 输入模板名称和描述
5. 点击"保存"

#### 使用模板
1. `工具 → 模板管理`
2. 在列表中选择模板
3. 点击"应用模板"
4. 确认应用

#### 管理模板
- **导出模板**：选择模板后点击"导出"
- **导入模板**：点击"导入模板"选择JSON文件
- **删除模板**：选择模板后点击"删除"（默认模板不可删除）

### 批量处理

1. 导入多张图片
2. 配置统一的水印设置
3. 导出时会自动处理所有图片
4. 进度对话框显示处理进度

### 图片缩放

在导出设置中：
- **百分比模式**：选择25%、50%、75%或原始大小
- **固定尺寸**：输入目标宽度和高度
- **保持宽高比**：勾选以保持图片比例

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl+O | 导入图片 |
| Ctrl+E | 导出设置 |
| Delete | 删除选中的图片 |
| Ctrl+A | 全选图片 |
| F5 | 刷新预览 |

## 常见问题

### Q: 水印描边效果不显示？
A: 确保在"文本水印"设置中勾选了"启用描边"，并设置了合适的描边宽度（建议2-5像素）。

### Q: PNG图片导出后透明背景变黑？
A: 确保在导出设置中选择PNG格式。如果选择JPEG，透明背景会自动转换为白色。

### Q: 导出的图片水印和预览不一致？
A: 这个问题已在最新版本修复。如仍出现，请检查字体是否正确安装。

### Q: 处理大图片时程序很慢？
A: 程序会自动使用内存保守模式处理大图片。建议使用图片缩放功能减小输出尺寸。

### Q: 如何批量添加相同的水印？
A: 导入所有图片，配置一次水印设置，然后批量导出即可。

### Q: 模板文件保存在哪里？
A: 用户模板保存在 `config/user_templates/` 目录，默认模板在 `resources/templates/` 目录。

## 文件格式支持

### 输入格式
- JPEG (.jpg, .jpeg)
- PNG (.png)
- BMP (.bmp)
- TIFF (.tif, .tiff)

### 输出格式
- JPEG - 适合照片，文件小
- PNG - 支持透明度，适合有透明背景的图片

## 系统要求

- **操作系统**：Windows 7/8/10/11
- **内存**：建议4GB以上
- **磁盘空间**：至少100MB可用空间
- **Python版本**：3.8+（如使用源码运行）

## 技术支持

- **项目地址**：https://github.com/LAYCorax/PhotoWatermark
- **问题反馈**：提交Issue到GitHub仓库
- **文档更新**：查看项目CHANGELOG.md

## 许可证

本项目基于开源许可证发布，详见LICENSE文件。

---

**版本**：1.0.0  
**更新日期**：2025-10-04
