# 水印模板系统使用指南

## 功能概述

模板系统允许您保存、管理和快速应用水印配置，提高工作效率。

## 主要功能

### 1. 模板管理对话框

通过菜单 **工具 → 模板管理** 打开模板管理器。

### 2. 保存当前配置为模板

1. 在主窗口配置好水印参数
2. 打开模板管理器
3. 点击"保存当前配置为模板"按钮
4. 输入模板名称和描述
5. 点击"保存"

### 3. 应用模板

1. 在模板列表中选择要应用的模板
2. 查看右侧的模板详情
3. 点击"应用模板"按钮
4. 确认后，当前水印配置将被替换为模板配置

### 4. 导出模板

1. 选择要导出的模板
2. 点击"导出"按钮
3. 选择保存位置
4. 模板将以JSON格式保存

### 5. 导入模板

1. 点击"导入模板"按钮
2. 选择模板文件（.json格式）
3. 模板将被添加到用户模板列表

### 6. 删除模板

1. 选择要删除的用户模板（默认模板无法删除）
2. 点击"删除"按钮
3. 确认删除操作

### 7. 创建默认模板

点击"创建默认模板"按钮可以恢复系统预设的模板，包括：

- **简单文字水印**: 右下角白色文字，适合深色背景
- **带描边文字水印**: 居中大号文字，带黑色描边
- **带阴影文字水印**: 左上角文字，带阴影效果

## 模板文件格式

模板以JSON格式存储，包含以下信息：

```json
{
  "name": "模板名称",
  "description": "模板描述",
  "created_at": "2025-10-04 12:00:00",
  "is_default": false,
  "config": {
    "watermark_type": "text",
    "text_config": {
      "text": "水印文本",
      "font_family": "Microsoft YaHei",
      "font_size": 48,
      ...
    },
    "position": "bottom_right",
    "rotation": 0.0,
    ...
  }
}
```

## 存储位置

- **用户模板**: `config/user_templates/`
- **默认模板**: `resources/templates/`

## 使用技巧

1. **为不同用途创建模板**: 如"产品水印"、"版权水印"、"样张水印"等
2. **备份重要模板**: 定期导出重要模板到其他位置
3. **分享模板**: 可以将导出的模板分享给其他用户
4. **模板命名规范**: 使用清晰、有描述性的名称

## 注意事项

- 默认模板无法删除或修改
- 应用模板会覆盖当前的所有水印设置
- 模板名称必须唯一，导入同名模板时会自动重命名
- 删除模板操作不可恢复，请谨慎操作

## 快捷键

| 功能 | 快捷键 |
|------|-------|
| 打开模板管理器 | 工具菜单 → 模板管理 |

## 常见问题

**Q: 为什么无法删除某个模板？**
A: 默认模板（标记为📌）无法删除，只能删除用户创建的模板。

**Q: 导入的模板会保存在哪里？**
A: 导入的模板会自动保存到 `config/user_templates/` 目录。

**Q: 应用模板后可以修改吗？**
A: 可以，应用模板后您可以继续调整参数，修改的内容不会影响原模板。

**Q: 如何共享我的模板？**
A: 选择模板后点击"导出"，将生成的JSON文件发送给其他用户即可。

## 更新日志

### v1.0.0 (2025-10-04)
- ✅ 实现模板保存和加载功能
- ✅ 添加模板管理对话框
- ✅ 支持模板导入和导出
- ✅ 提供三个默认模板
- ✅ 实现模板应用功能
